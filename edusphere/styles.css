/* EduSphere — Study-themed background + login + catalog chips + quiz highlights + course path + notes pop-up */

/* Default: light theme */
:root{
  --header-h:60px; 
  --primary:#2563eb;
  --primary-600:#1d4ed8;
  --accent:#a855f7;

  --bg:#f4f4fb;        /* lighter page */
  --surface:#f4f4fb;
  --card:#111827;      /* keep cards dark for contrast */
  --border:#1f2937;

  --text:#e5e7eb;      /* light text on dark cards */
  --muted:#9ca3af;

  --success:#22c55e;
  --danger:#f97373;
  --warn:#eab308;

  /* background horizontal lines for LIGHT mode */
  --bg-line:rgba(148,163,184,0.25);   /* subtle slate line */

  /* streak colors for LIGHT mode */
  --streak-cell-bg:#e5e7eb;
  --streak-cell-text:#111827;
  --streak-active-bg:#bfdbfe;
  --streak-active-text:#111827;

  /* solid green for current streak days (same in both themes) */
  --streak-streak-bg:#22c55e;
  --streak-streak-text:#022c16;
}

/* Dark theme overrides */
body.theme-alt{
  --primary:#5624d0;
  --primary-600:#401b9c;
  --accent:#a435f0;

  --bg:#0f1115;
  --surface:#111317;
  --card:#161a22;

  --text:#e6e6e6;
  --muted:#b4b4b4;
  --border:#262b36;

  --success:#2ea44f;
  --danger:#e03d3d;
  --warn:#f2a007;

  /* background horizontal lines for DARK mode */
  --bg-line:rgba(255,255,255,0.055);

  /* streak colors for DARK mode */
  --streak-cell-bg:rgba(15,23,42,0.15);
  --streak-cell-text:var(--muted);
  --streak-active-bg:rgba(56,189,248,0.25);
  --streak-active-text:#e5e7eb;

  /* solid green for current streak days (same as light) */
  --streak-streak-bg:#22c55e;
  --streak-streak-text:#022c16;
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
.hidden{ display:none !important; }

/* Background */
body{
  margin:0;
  font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
  color:var(--text);
  background-color: var(--bg);
  background-image:
    linear-gradient(90deg, rgba(164,53,240,0.3), rgba(164,53,240,0.3)),
    repeating-linear-gradient(
      to bottom,
      var(--bg-line) 0 1px,       /* <-- was rgba(255,255,255,0.055) */
      transparent 1px 28px
    );
  background-size: 2px 100%, 100% 28px;
  background-position: 90px 0, 0 0;
  background-attachment: fixed, fixed;
}

body::before{
  content:""; position:fixed; inset:-10%; pointer-events:none; z-index:0;
  background:
    radial-gradient(1200px 700px at 15% -10%, rgba(86,36,208,0.28), transparent 70%),
    radial-gradient(1000px 650px at 90% 10%, rgba(164,53,240,0.24), transparent 70%),
    conic-gradient(from 210deg at 60% 40%, rgba(164,53,240,0.12), rgba(86,36,208,0.10), rgba(20,24,32,0.0) 55%);
  filter: blur(40px) saturate(1.1);
  animation: auroraShift 24s ease-in-out infinite alternate;
}
@keyframes auroraShift{
  0%{transform:translateY(0) scale(1)}
  50%{transform:translateY(-2%) scale(1.02)}
  100%{transform:translateY(2%) scale(1.03)}
}
body::after{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:0; opacity:0.07;
  background-image: url("data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='240' height='240' viewBox='0 0 240 240'><g fill='none' stroke='%23cdb0ff' stroke-opacity='0.45' stroke-width='1.2'><path d='M30 60h60v40H30z'/><path d='M150 60l20 12v28l-20 12-20-12V72z'/><path d='M140 170h60M170 140v60'/><circle cx='60' cy='165' r='20'/><path d='M30 190h60'/></g></svg>");
  background-size: 240px 240px;
}

/* Floating study icons (optimized) */
.study-orbs{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;
  overflow:hidden;
}
.study-orbs .orb{
  position:absolute;
  border-radius:999px;
  background:
    radial-gradient(circle at 30% 30%, rgba(164,53,240,.22), rgba(10,10,18,0.9) 70%);
  color:#ffeefd;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  opacity:.25;
  will-change:transform;
  animation: floatUp var(--dur,24s) linear infinite;
}
.study-orbs .orb span{
  display:block;
  transform-origin:center;
  animation: orbWobble 5s ease-in-out infinite alternate;
}
@keyframes floatUp{
  from{ transform: translateY(110vh) translateX(var(--drift,0px)); }
  to{ transform: translateY(-120vh) translateX(calc(var(--drift,0px) * -1)); }
}
@keyframes orbWobble{
  0%{   transform:translateY(0)   rotate(-4deg) scale(1); }
  50%{  transform:translateY(-3px) rotate(2deg)  scale(1.02); }
  100%{ transform:translateY(1px)  rotate(-1deg) scale(1); }
}
@media(prefers-reduced-motion:reduce){
  body::before, .study-orbs .orb{ animation:none }
}

/* header layout */
.app-header{
  position:sticky;
  top:0;
  z-index:50;
  height:var(--header-h);
  display:flex;
  align-items:center;
  gap:12px;
  padding:0 20px;
  background:rgba(10,11,18,0.92);
  backdrop-filter:saturate(1.2) blur(10px);
  border-bottom:1px solid var(--border);
}

/* larger logo */
.app-header .brand-logo{
  height:34px;          /* was 28px */
  width:34px;           /* was 28px */
  border-radius:8px;    /* slightly rounder corners */
  border:1px solid var(--border);
  box-shadow:var(--shadow-soft);
  background:#141826;
  object-fit:cover;
}

/* keep title vertically centered next to bigger logo */
.app-header h1{
  margin:0;
  font-size:22px;       /* adjust if needed */
}

.nav{
  display:flex;
  gap:8px;
  margin-left:auto;      /* key line: pushes nav to the right edge */
}
.nav-btn{
  appearance:none; border:1px solid var(--border);
  background:#131722; color:var(--text);
  padding:8px 12px; border-radius:10px;
  cursor:pointer; transition:all .18s ease;
}
.nav-btn:hover{border-color:#2f3747; transform:translateY(-1px)}
.nav-btn:focus-visible{outline:2px solid var(--accent); outline-offset:2px}

/* Layout */
main{max-width:1100px; margin:22px auto; padding:0 16px}
.view{min-height:calc(100dvh - var(--header-h) - 90px)}

/* Cards */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-soft);
  padding:22px;
}

/* Forms */
label{display:block; margin:14px 0}
input,select{
  width:100%; padding:12px 12px;
  border:1px solid var(--border);
  background:#0f1320; color:var(--text);
  border-radius:10px; outline:0;
}
input:focus,select:focus{border-color:#33405a; box-shadow:0 0 0 3px rgba(86,36,208,.25)}

/* Buttons */
button{font-weight:600; letter-spacing:.2px}
.actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px}
.primary{
  background:linear-gradient(180deg,var(--primary) 0%, var(--primary-600) 100%);
  border:1px solid #2a166d; color:#fff; padding:10px 14px; border-radius:10px;
}
.primary:hover{filter:brightness(1.05)}
.primary[disabled]{opacity:0.4; cursor:not-allowed}
.secondary{
  background:#121826; color:var(--text);
  border:1px solid var(--border); padding:10px 14px; border-radius:10px;
}
.secondary:hover{border-color:#2d3342}
.danger{
  background:linear-gradient(180deg,#f04747 0%, #c63a3a 100%);
  color:#fff; border:1px solid #8b2a2a; padding:10px 14px; border-radius:10px;
}

/* Login */
#view-login{ display:grid; place-items:center; padding:10dvh 0 8dvh }
#view-login .card{
  position:relative; width:min(720px, 92vw); padding:26px 22px 24px; border-radius:16px;
  border:1px solid rgba(130,140,170,0.32);
  background: linear-gradient(180deg, rgba(18,22,32,0.68) 0%, rgba(14,18,28,0.62) 100%);
  box-shadow: 0 30px 70px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,0.06);
  transform-style: preserve-3d;
  transform: perspective(1200px) rotateX(calc((var(--my) - 50) * 0.35deg)) rotateY(calc((var(--mx) - 50) * -0.35deg));
  transition: transform .08s ease-out;
}
#view-login .card::before,
#view-login .card::after{
  content:""; position:absolute; inset:-16px -18px -16px -18px; border-radius:20px; z-index:-1;
  background: linear-gradient(120deg, rgba(255,255,255,0.06) 0 10%, transparent 10% 100%),
              repeating-linear-gradient( to bottom, rgba(255,255,255,0.06) 0 2px, transparent 2px 10px );
  transform: translateZ(-30px) rotateZ(-1deg); filter: drop-shadow(0 10px 30px rgba(0,0,0,.35));
}
#view-login .card::after{
  inset:-26px -30px -26px -30px; border-radius:26px;
  background: conic-gradient(from 200deg at 20% 10%, rgba(164,53,240,.25), rgba(86,36,208,.18), transparent 55%),
              radial-gradient(500px 180px at 12% 10%, rgba(164,53,240,.18), transparent 70%);
  transform: translateZ(-60px) rotateZ(-2deg);
}
#view-login .card .bookmark{
  position:absolute; right:22px; top:-12px;
  width:0; height:0;
  border-left:12px solid transparent; border-right:12px solid transparent;
  border-top:18px solid var(--accent);
  filter: drop-shadow(0 6px 8px rgba(0,0,0,.35));
}
#view-login h2{
  margin:0 0 8px 0; font-size:22px;
  background: linear-gradient(90deg, #fff, #d7c9ff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
#login-form{ margin-top:6px }

/* Catalog */
.catalog-controls{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  margin-bottom:14px;
}
.catalog-controls.sticky{
  position:sticky;
  top:calc(var(--header-h) + 8px);
  z-index:10;
  background:rgba(21, 23, 37, 0.92);   /* dark bar */
  backdrop-filter: blur(8px) saturate(120%);
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px 12px;
  box-shadow:var(--shadow-soft);
}
.catalog-controls h2{
  display:inline-flex; align-items:center;
  margin:0; padding:6px 10px;
  background:rgba(0,0,0,0.35);
  border:1px solid #2a3040; border-radius:10px;
}
.catalog-controls .filters{
  display:flex; align-items:center; gap:10px;
  padding:4px 6px;
  background:rgba(0,0,0,0.25);
  border:1px solid #2a3040; border-radius:10px;
}
.catalog-controls .filters select{
  background:rgba(20,22,30,0.55);
  border:1px solid #2a3040; color:var(--text);
}
#course-grid{ margin-top:8px }

/* Streak card */
.streak-card{
  margin-bottom:12px;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(164,53,240,0.35);
  background:linear-gradient(90deg, rgba(43, 37, 108, 0.95), rgba(44,20,66,0.95));
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}

.streak-main{
  display:flex;
  align-items:flex-start;
  gap:12px;
}
.streak-icon{
  width:40px;
  height:40px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  background:rgba(15,23,42,0.7);
  box-shadow:0 4px 10px rgba(0,0,0,0.4);
}
.streak-text{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.streak-title{
  font-weight:700;
  font-size:16px;
}
.streak-title #streak-current{
  font-size:20px;
  margin-right:4px;
}
.streak-subtitle{
  font-size:13px;
  color:var(--muted);
}
.streak-stats-row{
  margin-top:6px;
  display:flex;
  gap:18px;
  flex-wrap:wrap;
}
.streak-stat{
  display:flex;
  align-items:center;
  gap:4px;
  font-size:13px;
}
.streak-stat .stat-icon{ font-size:16px; }
.streak-stat .stat-value{ font-weight:600; margin-right:2px; }
.streak-stat .stat-label{ color:var(--muted); }

.streak-actions{
  flex:0 0 auto;
}
.streak-btn{
  padding-inline:14px;
  white-space:nowrap;
}

/* Streak calendar modal / panel content */
.streak-calendar{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Calendar card inside the panel - make it translucent too */
.streak-grid-wrapper{
  margin-top:8px;
  border-radius:18px;
  border:1px solid rgba(148,163,184,0.35);
  background:rgba(10, 14, 24, 0.45);          /* translucent card */
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  padding:10px;
  max-height:55vh;
  overflow:auto;
  box-shadow:0 18px 40px rgba(0,0,0,0.35);
}
/* inner grid keeps slightly smaller radius so card feels pill-shaped */
.streak-grid{
  display:grid;
  grid-template-columns:repeat(7,minmax(24px,1fr));
  gap:6px;
  font-size:11px;
  padding:4px;
  border-radius:14px;
  background:rgba(15,23,42,0.6);
}
.streak-grid .dow{
  text-align:center;
  font-weight:600;
  color:var(--muted);
}

/* base cell */
.streak-cell{
  height:24px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--streak-cell-bg, #e5e7eb);
  color:var(--streak-cell-text, #111827);
}

/* any active day (quiz done) */
.streak-cell.has-activity{
  background:var(--streak-active-bg, #bfdbfe);
  color:var(--streak-active-text, #111827);
}

/* CURRENT streak days – solid green in both themes */
.streak-cell.in-streak{
  background:#22c55e;          /* solid green highlight */
  color:#022c16;               /* dark green text for contrast */
  box-shadow:0 0 0 2px rgba(0,0,0,0.35);
}

/* today outline */
.streak-cell.today{
  outline:2px solid rgba(0, 255, 34, 0.9);
  outline-offset:1px;
}


.streak-footer-stats{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:8px;
  margin-top:10px;
}
.streak-footer-card{
  border-radius:10px;
  border:1px solid var(--border);
  background:rgba(15,23,42,0.3);
  padding:8px;
  font-size:12px;
}
.streak-footer-card .label{
  color:var(--muted);
}
.streak-footer-card .value{
  font-weight:600;
  font-size:16px;
}
@media(max-width:640px){
  .streak-footer-stats{
    grid-template-columns:repeat(2,minmax(0,1fr));
  }
}

/* Right-side streak panel - translucent glass */
.streak-panel{
  position:fixed;
  top:calc(var(--header-h) + 12px);
  right:12px;
  bottom:16px;
  width:min(360px, 90vw);

  /* glassy surface */
  background:rgba(17, 23, 41, 0.55);          /* dark glass */
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);

  border:1px solid rgba(148,163,184,0.28);
  border-radius:18px;
  box-shadow:-18px 24px 40px rgba(0,0,0,0.45);
  z-index:900;
  display:flex;
  flex-direction:column;
  transform:translateX(110%);
  transition:transform .2s ease-out;
  overflow:hidden;
}

.streak-panel.is-open{ transform:translateX(0); }

.streak-panel-inner{
  padding:16px 16px 12px;
  overflow:auto;
}

.streak-panel-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  margin-bottom:8px;
}
.streak-panel-header h3{
  margin:0;
  font-size:16px;
}
.streak-panel-close{
  padding:4px 8px;
  border-radius:999px;
  font-size:12px;
}



/* Courses grid */
.grid{ display:grid; gap:16px; grid-template-columns:repeat(12,1fr) }
.grid > .course{ grid-column:span 12 }
@media(min-width:540px){ .grid > .course{ grid-column:span 6 } }
@media(min-width:900px){ .grid > .course{ grid-column:span 4 } }
.course{
  background:var(--card);       /* instead of hard-coded gradient */
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  box-shadow:var(--shadow-soft);
  display:flex;
  flex-direction:column;
  gap:10px;
}
.course .thumb{
  width:100%; aspect-ratio:16/9;
  object-fit:cover;
  border-radius:10px;
  border:1px solid var(--border);
  background:#0d0f14;
  display:block; margin-bottom:10px;
}
.course h3{margin:0 0 6px 0; font-size:18px}
.meta{color:var(--muted); font-size:13px}
.badges{display:flex; gap:8px; flex-wrap:wrap}
.badge{
  font-size:12px; padding:4px 8px; border-radius:999px;
  background:#171d2b; border:1px solid #2a3040; color:#d6d6d6;
}

/* Study resources list */
.list{display:flex; flex-direction:column; gap:10px; margin-top:8px}
.list a{
  color:#d9b3ff; text-decoration:none; border-bottom:1px dashed #2f1c65;
}
.list a:hover{color:#fff}

/* Animated course path timeline */
.outline{
  position:relative;
  margin-top:16px;
  padding-left:26px;
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.outline::before{
  content:"";
  position:absolute;
  left:10px;
  top:4px;
  bottom:4px;
  width:2px;
  background:linear-gradient(to bottom, rgba(255,255,255,0.12), rgba(86,36,208,0.4));
  opacity:0.65;
}
.module{
  position:relative;
  display:flex;
  align-items:center;
  gap:14px;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.03);
  background:radial-gradient(circle at 0% 0%, rgba(164,53,240,0.12), rgba(10,10,18,0.95));
  box-shadow:0 8px 20px rgba(0,0,0,0.35);
  transition:
    transform 0.15s ease,
    border-color 0.18s ease,
    box-shadow 0.18s ease,
    background 0.18s ease;
}
.module:hover{
  transform:translateY(-1px);
  border-color:rgba(164,53,240,0.6);
  box-shadow:0 14px 32px rgba(0,0,0,0.55);
}

/* clickable check area */
.module-check{
  position:relative;
  width:20px;
  height:20px;
  flex:0 0 auto;
  display:grid;
  place-items:center;
  cursor:pointer;
}
/* hide native checkbox */
.module-check input{
  position:absolute;
  inset:0;
  opacity:0;
  cursor:pointer;
}
/* glowing dot */
.module-icon{
  width:14px;
  height:14px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.45);
  background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), rgba(10,10,18,1));
  box-shadow:0 0 0 0 rgba(164,53,240,0.35);
  transition:
    background 0.18s ease,
    border-color 0.18s ease,
    box-shadow 0.25s ease,
    transform 0.18s ease;
}
.module-check input:checked + .module-icon{
  background:radial-gradient(circle at 30% 30%, #a435f0, #5624d0);
  border-color:rgba(164,53,240,0.95);
  box-shadow:0 0 0 4px rgba(164,53,240,0.45);
  transform:scale(1.1);
  animation:modulePulse 0.6s ease-out;
}
@keyframes modulePulse{
  0%{box-shadow:0 0 0 0 rgba(164,53,240,0.65);}
  100%{box-shadow:0 0 0 10px rgba(164,53,240,0);}
}
.module-main{ flex:1; }
.module-title{ font-weight:600; }
.module-meta{ font-size:13px; color:var(--muted); }

.module-notes{
  background:rgba(164,53,240,0.16);
  border:1px solid #5c34b3;
  color:#f1e5ff;
  padding:6px 12px;
  border-radius:999px;
  font-size:13px;
  cursor:pointer;
  white-space:nowrap;
  transition:background 0.15s ease, border-color 0.15s ease, transform 0.15s ease;
}
.module-notes:hover{
  background:rgba(164,53,240,0.28);
  border-color:#c19aff;
  transform:translateY(-1px);
}

/* completed state styling */
.module.is-done{
  border-color:rgba(46,164,79,0.7);
  background:linear-gradient(90deg, rgba(23,73,48,0.8), rgba(16,23,36,0.95));
}
.module.is-done .module-title{
  color:#c7ffda;
}

/* Course progress text */
.course-progress-msg{
  margin-top:10px;
  font-size:14px;
  color:#d3c7ff;
}

/* Study notes section label */
#course-notes::before{
  content:"Study Materials";
  display:block;
  font-weight:700;
  color:#eae2ff;
  margin-top:8px;
  margin-bottom:6px;
}
#course-notes .note-link{
  display:inline-flex; align-items:center; gap:8px; width:fit-content;
  padding:8px 10px; margin:4px 0;
  color:#d9b3ff; text-decoration:none;
  background:rgba(164,53,240,.08); border:1px solid #2f1c65; border-radius:10px;
}
#course-notes .note-link:hover{ color:#fff; border-color:#5c34b3; transform:translateY(-1px) }
#course-notes .tag{
  font-size:12px; padding:2px 6px; border-radius:999px;
  background:#171d2b; border:1px solid #2a3040; color:#d6d6d6;
}

/* Quiz */
.quiz-header{display:flex; align-items:center; justify-content:space-between; gap:10px}
#quiz-form{margin-top:6px}
fieldset{ border:1px solid #262d3b; border-radius:12px; margin:14px 0; padding:12px 12px 6px }
legend{ padding:0 6px; color:#dcdcdc; font-weight:600 }
.option{ display:flex; gap:10px; align-items:flex-start; padding:6px 2px; border-radius:8px; border:1px solid transparent }
.option input{ margin-top:3px; width:auto }

/* Quiz highlights */
.option.is-correct{ background:rgba(46,164,79,.12); border-color:rgba(46,164,79,.55) }
.option.is-wrong{ background:rgba(224,61,61,.12); border-color:rgba(224,61,61,.55) }
.option.is-missed{ background:rgba(164,53,240,.12); border-color:rgba(164,53,240,.55); border-style:dashed }
.answer-key{ margin:6px 0 4px 0; font-size:13px; color:#d0caff }
.answer-key .label{ padding:2px 6px; border:1px solid #2a3040; border-radius:6px; background:#171d2b; margin-right:6px }

/* Feedback panel */
.quiz-feedback{ margin-top:14px; padding:14px; border-radius:12px; border:1px solid #2a3040; background:linear-gradient(180deg,#141727 0%, #111625 100%) }
.quiz-feedback h3{ margin:0 0 8px 0; font-size:18px }
.quiz-feedback ul{ margin:8px 0 0 18px; padding:0 }
.quiz-feedback li{ margin:6px 0; color:#ddd }

/* Leaderboard */
.leaderboard-subtitle{
  margin-top:4px;
  font-size:14px;
  color:var(--muted);
}
.leaderboard-list{
  margin-top:12px;
  padding-left:0;
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.leaderboard-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 12px;
  border-radius:10px;
  background:linear-gradient(90deg,#151827,#10131f);
  border:1px solid #262b36;
}
.leaderboard-rank{
  width:32px;
  text-align:center;
  font-weight:600;
  color:#bfc6ff;
}
.leaderboard-main{ flex:1; }
.leaderboard-name{ font-weight:600; }
.leaderboard-points{ font-size:13px; color:#dcdcdc; }
.leaderboard-badge{
  font-size:13px;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid #3a2b6d;
  background:rgba(164,53,240,0.16);
  color:#f6e9ff;
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.leaderboard-badge span:first-child{ font-size:16px; }
.leaderboard-row.is-self{
  border-color:var(--accent);
  box-shadow:0 0 0 1px rgba(164,53,240,0.7);
}

/* Modal */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(2,4,10,.55); z-index:1000; }
.modal.hidden{display:none}
.modal-content{
  width:min(560px,92vw);
  background:#121723; color:var(--text);
  border:1px solid var(--border); border-radius:14px;
  box-shadow:var(--shadow);
  padding:18px;
  transform:translateY(6px); animation:pop .18s ease forwards;
}
.modal-content.wide{
  width:min(820px,95vw);
  max-height:85vh;
  overflow:auto;
}
@keyframes pop{to{transform:translateY(0)}}

/* Notes content inside modal */
.notes h4{ margin:8px 0 6px 0; }
.notes p{ margin:6px 0; color:#e8e8e8 }
.notes ul{ margin:8px 0 0 18px; }
.notes li{ margin:6px 0; }
.notes .important{
  margin-top:10px; padding:10px; border-radius:10px;
  background:rgba(164,53,240,.10); border:1px dashed #5630aa;
}
.notes .actions{ display:flex; gap:10px; margin-top:12px }

/* Footer */
.app-footer{
  position:relative;
  max-width:1100px;
  margin:26px auto 20px;
  padding:10px 16px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,0.38);
  background:linear-gradient(120deg, rgba(15,23,42,0.94), rgba(24,16,50,0.96));
  box-shadow:0 18px 40px rgba(0,0,0,0.55);
  color:var(--muted);
  text-align:center;
  font-size:13px;
}

/* thin divider above footer to echo other cards */
.app-footer::before{
  content:"";
  position:absolute;
  left:12px;
  right:12px;
  top:0;
  border-top:1px solid rgba(148,163,184,0.35);
  opacity:0.4;
}

/* make footer text slightly brighter */
.app-footer small{
  letter-spacing:0.03em;
  color:#e5e7eb;
}

/* Transitions */
a,button,input,select{
  transition: background .15s ease, border-color .15s ease, transform .15s ease;
}

/* Profile card */
.profile-card{
  max-width:720px;
  margin:0 auto;
}

.profile-subtitle{
  margin-top:4px;
  font-size:14px;
  color:var(--muted);
}

.profile-row{
  display:flex;
  align-items:center;
  gap:14px;
  margin-top:14px;
}

.profile-avatar{
  width:60px;
  height:60px;
  border-radius:999px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:24px;
  color:#fff;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
}

.profile-main{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.profile-name{
  font-weight:700;
  font-size:18px;
}

.profile-email{
  font-size:14px;
  color:var(--muted);
}

.profile-meta{
  font-size:13px;
  color:var(--muted);
}

.profile-divider{
  margin:18px 0 12px;
  border:none;
  border-top:1px solid var(--border);
}

.profile-grid{
  display:grid;
  gap:12px;
}

@media(min-width:720px){
  .profile-grid{
    grid-template-columns:repeat(2,minmax(0,1fr));
  }
  .profile-grid label:nth-child(4){
    grid-column:1/-1;
  }
}

#profile-form textarea{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#0f1320;
  color:var(--text);
  resize:vertical;
}



/* avatar circle supports image background */
.profile-avatar{
  width:60px;
  height:60px;
  border-radius:999px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:24px;
  color:#fff;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
  overflow:hidden;              /* crop uploaded photo */
  background-size:cover;
  background-position:center;
}

/* upload field */
.profile-avatar-upload{
  grid-column:1 / -1;
  font-size:14px;
}
.profile-avatar-upload input[type="file"]{
  display:block;
  margin-top:6px;
}
.profile-avatar-hint{
  display:block;
  margin-top:2px;
  font-size:12px;
  color:var(--muted);
}

/* Profile metrics row */
.profile-metrics{
  margin-bottom:16px;
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:10px;
}

.metric-card{
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(10,16,32,0.9);
  padding:12px 10px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,0.45);
}

.metric-value{
  font-size:22px;
  font-weight:700;
  color:var(--accent);
}

.metric-label{
  margin-top:4px;
  font-size:13px;
  color:var(--muted);
}

@media(max-width:640px){
  .profile-metrics{
    grid-template-columns:1fr;
  }
}
